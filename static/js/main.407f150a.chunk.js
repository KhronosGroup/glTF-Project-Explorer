(this["webpackJsonpproject-explorer"]=this["webpackJsonpproject-explorer"]||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(16),s=n.n(c),a=n(10),i=n(9),u=n(25),l=n(29),o=(n(39),n(40),n(41),n(1)),j=function(e){var t=e.header,n=e.items;return n?Object(o.jsxs)("div",{className:"project-card-details",children:[Object(o.jsx)("h2",{children:t}),Object(o.jsx)("ul",{children:n.map((function(e){return Object(o.jsx)("li",{children:e},e)}))})]}):null},b=function(e){var t=e.project;return Object(o.jsx)("h1",{children:t.link?Object(o.jsx)("a",{href:t.link,children:t.name}):t.name})},f=(n(43),n(8)),d=n(26),O=n.n(d),p=n(27),h=n.n(p),E=function(e){var t=e.className,n=e.body,c=Object(r.useState)({__html:""}),s=Object(f.a)(c,2),a=s[0],i=s[1];return Object(r.useEffect)((function(){var e;(e=n,new Promise((function(t,n){O()(e,(function(e,r){e&&n(e),t(h.a.sanitize(r))}))}))).then((function(e){return i({__html:e})}))}),[n]),Object(o.jsx)("div",{className:t,dangerouslySetInnerHTML:a})},S=function(e){return e&&e.length>0},T=function(e){var t=e.project;return Object(o.jsxs)("div",{className:"project-card",children:[Object(o.jsx)(b,{project:t}),Object(o.jsxs)("div",{className:"project-card-content",children:[t.description&&Object(o.jsx)(E,{className:"project-card-description",body:t.description}),S(t.task)&&Object(o.jsx)(j,{header:"Task",items:t.task}),S(t.license)&&Object(o.jsx)(j,{header:"License",items:t.license}),S(t.language)&&Object(o.jsx)(j,{header:"Supported Languages",items:t.language}),S(t.type)&&Object(o.jsx)(j,{header:"Type",items:t.type}),S(t.inputs)&&Object(o.jsx)(j,{header:"Input Methods",items:t.inputs}),S(t.outputs)&&Object(o.jsx)(j,{header:"Output Methods",items:t.outputs})]})]})};var g,v,x=Object(a.b)((function(e){return{projects:e.results.values}}))((function(e){var t=e.projects;return Object(o.jsx)(o.Fragment,{children:t&&t.map((function(e){return Object(o.jsx)(T,{project:e},e.id)}))})}));function m(e,t,n,r,c,s){return{type:g.UPDATE_FILTERS,tasks:e,types:t,licenses:n,languages:r,tags:c,titleSubstring:s}}function F(e){return e=new Set(e),{type:g.UPDATE_SELECTED_FILTERS,selected:e}}function R(e,t){return{dimension:e,value:t}}!function(e){e.UPDATE_FILTERS="UPDATE_FILTERS",e.UPDATE_SELECTED_FILTERS="UPDATE_SELECTED_FILTERS",e.UPDATE_TITLE_SUBSTRING_FILTER="UPDATE_TITLE_SUBSTRING_FILTER",e.PERFORM_SEARCH="PERFORM_SEARCH"}(g||(g={})),function(e){e.Task="task",e.Type="type",e.License="license",e.Language="language",e.Tags="tags"}(v||(v={}));var _=function(e){switch(e.dimension){case v.Type:return"type-filter";case v.Task:return"task-filter";case v.License:return"license-filter";case v.Language:return"language-filter";case v.Tags:return"tags-filter";default:return""}},L=(n(44),function(e){var t=e.filters,n=e.label,c=e.addAction,s=Object(r.useState)(!1),a=Object(f.a)(s,2),i=a[0],u=a[1],l=Object(r.useCallback)((function(){u(!i)}),[i,u]);return Object(o.jsx)(o.Fragment,{children:t.length>0&&Object(o.jsxs)("div",{className:"filter-bar-options",children:[Object(o.jsxs)("h2",{onClick:l,children:[n," ",i?"\u25b2":"\u25bc"]}),Object(o.jsxs)("div",{className:i?"":"hide",children:[Object(o.jsx)("ul",{children:t.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)("button",{className:_(e),onClick:c(e),children:e.value})},e.value)}))}),Object(o.jsx)("p",{className:"instructions",children:"Click to add"})]})]})})}),C=(n(45),n(46),function(e){var t=e.selectedFilters,n=e.removeAction,r=e.resetAction,c=Array.from(t);return Object(o.jsxs)("div",{className:"filter-bar-selected",children:[Object(o.jsx)("h2",{children:"Selected Filters"}),Object(o.jsx)("ul",{children:c.length>0?Object(o.jsxs)(o.Fragment,{children:[c.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsxs)("button",{className:_(e),onClick:n(e),children:[e.value," ",Object(o.jsx)("span",{className:"clear-cross",children:"\u2715"})]})},e.value)})),Object(o.jsx)("li",{children:Object(o.jsx)("button",{className:"clear-all-filters",onClick:r,children:"Clear All Filters"})})]}):Object(o.jsx)("li",{children:Object(o.jsx)("p",{className:"no-filters-message",children:"No filters selected."})})})]})});var y={updateSelectedFilters:F},k=Object(a.b)((function(e){var t=e.filters;return{taskFilters:t.tasks,typeFilters:t.types,licenseFilters:t.licenses,languageFilters:t.languages,tagFilters:t.tags,selectedFilters:t.selected}}),y)((function(e){var t=e.taskFilters,n=e.typeFilters,c=e.licenseFilters,s=e.languageFilters,a=e.selectedFilters,i=e.tagFilters,u=e.updateSelectedFilters,l=Object(r.useState)(!1),j=Object(f.a)(l,2),b=j[0],d=j[1],O=Object(r.useCallback)((function(){d(!b)}),[b,d]),p=Object(r.useCallback)((function(e){return function(t){a.add(e),u(a)}}),[a,u]),h=Object(r.useCallback)((function(e){return function(t){a.delete(e),u(a)}}),[a,u]),E=Object(r.useCallback)((function(e){a.clear(),u(a)}),[a,u]);return Object(o.jsxs)("div",{className:"filter-bar",children:[Object(o.jsx)("div",{className:"filter-bar-header",children:Object(o.jsxs)("h1",{onClick:O,children:["Filter Results ",b?"\u25b2":"\u25bc"]})}),Object(o.jsxs)("div",{className:b?"filter-bar-expando":"hide",children:[Object(o.jsx)(C,{selectedFilters:a,removeAction:h,resetAction:E}),Object(o.jsx)(L,{filters:i,label:"Filter by Tag",addAction:p}),Object(o.jsx)(L,{filters:t,label:"Filter by Task",addAction:p}),Object(o.jsx)(L,{filters:n,label:"Filter by Type",addAction:p}),Object(o.jsx)(L,{filters:c,label:"Filter by License",addAction:p}),Object(o.jsx)(L,{filters:s,label:"Filter by Language",addAction:p})]})]})}));n(47);var U,A,P={updateTitleSubstringFilter:function(e){return{type:g.UPDATE_TITLE_SUBSTRING_FILTER,titleSubstring:e}}},w=Object(a.b)((function(e){return{titleSubstring:e.filters.titleSubstring}}),P)((function(e){var t=e.titleSubstring,n=e.updateTitleSubstringFilter,c=Object(r.useCallback)((function(e){var t=e.target.value;n(t)}),[n]);return Object(o.jsxs)("div",{className:"search-bar",children:[Object(o.jsx)("h1",{children:"Search by Title"}),Object(o.jsx)("input",{placeholder:"Type to search",value:t,onChange:c})]})})),D=n(28),I=n.n(D),N=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("img",{src:"".concat("/glTF-Project-Explorer","/glTF_RGB_June16.svg"),alt:"glTF"}),Object(o.jsx)("h1",{children:"Project Explorer"})]}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)(w,{}),Object(o.jsx)(k,{}),Object(o.jsx)(x,{})]}),Object(o.jsx)(I.a,{position:"right",color:"white",href:"https://github.com/KhronosGroup/glTF-Project-Explorer",children:"Fork us on GitHub"})]})},J=n(7);!function(e){e.PROJECTS_REQUESTED="PROJECTS_REQUESTED",e.PROJECTS_SUCCESSFUL="PROJECTS_SUCCESSFUL",e.PROJECTS_FAILED="PROJECTS_FAILED"}(U||(U={})),function(e){e.RECALCULATE_RESULTS="RECALCULATE_RESULTS",e.STORE_RESULTS="STORE_RESULTS"}(A||(A={}));var G=Object(i.combineReducers)({projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetchingProjects:!1,values:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.PROJECTS_REQUESTED:return Object(J.a)(Object(J.a)({},e),{},{isFetchingProjects:!0});case U.PROJECTS_SUCCESSFUL:return Object(J.a)(Object(J.a)({},e),{},{values:t.projects,isFetchingProjects:!1});case U.PROJECTS_FAILED:return Object(J.a)(Object(J.a)({},e),{},{isFetchingProjects:!1});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:[],types:[],licenses:[],languages:[],tags:[],titleSubstring:"",selected:new Set},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.UPDATE_FILTERS:return Object(J.a)(Object(J.a)({},e),{},{tasks:t.tasks,types:t.types,licenses:t.licenses,languages:t.languages,tags:t.tags,titleSubstring:t.titleSubstring});case g.UPDATE_SELECTED_FILTERS:return Object(J.a)(Object(J.a)({},e),{},{selected:t.selected});case g.UPDATE_TITLE_SUBSTRING_FILTER:return Object(J.a)(Object(J.a)({},e),{},{titleSubstring:t.titleSubstring});default:return e}},results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{values:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.STORE_RESULTS:return Object(J.a)(Object(J.a)({},e),{},{values:t.results});default:return e}}}),M=n(6),B=n.n(M),Q=n(5);function H(){return fetch("".concat("/glTF-Project-Explorer","/data/glTF-projects-data.json")).then((function(e){return e.json()})).catch((function(e){return console.error("Error fetching data. Reason: ".concat(e))}))}function z(e){return{type:U.PROJECTS_SUCCESSFUL,projects:e}}var K=B.a.mark(q),W=B.a.mark(V);function q(){var e,t;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Q.b)(H);case 3:return e=n.sent,t=0,n.next=7,Object(Q.e)(z(e.map((function(e){return e.id=t++,e}))));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(Q.e)((r=n.t0,{type:U.PROJECTS_FAILED,error:r}));case 13:case"end":return n.stop()}var r}),K,null,[[0,9]])}function V(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.g)(U.PROJECTS_REQUESTED,q);case 2:case"end":return e.stop()}}),W)}var X=n(13),Y=function(e){return e.projects.values},Z=B.a.mark(se),$=B.a.mark(ae);function ee(e){return Object(X.a)(new Set(e.flatMap((function(e){return e.task})).filter((function(e){return e})))).map((function(e){return R(v.Task,e)}))}function te(e){return Object(X.a)(new Set(e.flatMap((function(e){return e.type})).filter((function(e){return e})))).map((function(e){return R(v.Type,e)}))}function ne(e){return Object(X.a)(new Set(e.flatMap((function(e){return e.license})).filter((function(e){return e})))).map((function(e){return R(v.License,e)}))}function re(e){return Object(X.a)(new Set(e.flatMap((function(e){return e.language})).filter((function(e){return e})))).map((function(e){return R(v.Language,e)}))}function ce(e){return Object(X.a)(new Set(e.flatMap((function(e){return e.tags})).filter((function(e){return e})))).map((function(e){return R(v.Tags,e)}))}function se(){var e,t,n,r,c,s,a,i;return B.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(Q.f)(Y);case 2:return e=u.sent,u.next=5,Object(Q.a)([Object(Q.b)(ee,e),Object(Q.b)(te,e),Object(Q.b)(ne,e),Object(Q.b)(re,e),Object(Q.b)(ce,e)]);case 5:return t=u.sent,n=Object(f.a)(t,5),r=n[0],c=n[1],s=n[2],a=n[3],i=n[4],u.next=14,Object(Q.e)(m(r,c,s,a,i,""));case 14:return u.next=16,Object(Q.e)(F(new Set));case 16:case"end":return u.stop()}}),Z)}function ae(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.g)(U.PROJECTS_SUCCESSFUL,se);case 2:case"end":return e.stop()}}),$)}var ie=n(15),ue=n(21),le=function(e){return e.filters},oe=Object(ue.a)(le,(function(e){return e.selected})),je=Object(ue.a)(le,(function(e){return e.titleSubstring}));function be(e){return{type:A.STORE_RESULTS,results:e}}var fe=B.a.mark(Se),de=B.a.mark(Te),Oe=["Khronos Official","Staff Picks"];function pe(e,t){if(t.size<1)return e;var n=Object.values(v),r=Array.from(t).reduce((function(e,t){return e[t.dimension]||(e[t.dimension]=[]),e[t.dimension].push(t),e}),{});return e.filter((function(e){var t,c=!1,s=Object(ie.a)(n);try{var a=function(){var n=t.value;return r[n]?(c=r[n].some((function(t){return!!e[n]&&e[n].some((function(e){return e===t.value}))})))?void 0:"break":"continue"};for(s.s();!(t=s.n()).done;){var i=a();if("continue"!==i&&"break"===i)break}}catch(u){s.e(u)}finally{s.f()}return c}))}function he(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}function Ee(e){var t,n={},r=Object(ie.a)(Oe);try{for(r.s();!(t=r.n()).done;){n[t.value]=[]}}catch(o){r.e(o)}finally{r.f()}n.UNTAGGED=[];var c,s=Object(ie.a)(e);try{for(s.s();!(c=s.n()).done;){var a=c.value;if(a.tags){var i,u=Object(ie.a)(a.tags);try{for(u.s();!(i=u.n()).done;){var l=i.value;n[l]?n[l].push(a):n.UNTAGGED.push(a)}}catch(o){u.e(o)}finally{u.f()}}else n.UNTAGGED.push(a)}}catch(o){s.e(o)}finally{s.f()}return Object.entries(n).flatMap((function(e){var t=Object(f.a)(e,2);t[0];return t[1].sort((function(e,t){return e.name.localeCompare(t.name)}))}))}function Se(){var e,t,n,r,c,s,a,i;return B.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(Q.a)([Object(Q.f)(Y),Object(Q.f)(oe),Object(Q.f)(je)]);case 2:return e=u.sent,t=Object(f.a)(e,3),n=t[0],r=t[1],c=t[2],s=pe(n,r),a=he(s,c),i=Ee(a),u.next=12,Object(Q.e)(be(i));case 12:case"end":return u.stop()}}),fe)}function Te(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.g)(g.UPDATE_SELECTED_FILTERS,Se);case 2:return e.next=4,Object(Q.c)(500,g.UPDATE_TITLE_SUBSTRING_FILTER,Se);case 4:case"end":return e.stop()}}),de)}var ge=B.a.mark(xe),ve=B.a.mark(me);function xe(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)({type:U.PROJECTS_REQUESTED});case 2:case"end":return e.stop()}}),ge)}function me(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.d)(xe);case 2:return e.next=4,Object(Q.d)(V);case 4:return e.next=6,Object(Q.d)(ae);case 6:return e.next=8,Object(Q.d)(Te);case 8:case"end":return e.stop()}}),ve)}var Fe=Object(l.a)({}),Re=Object(i.createStore)(G,{},Object(u.composeWithDevTools)(Object(i.applyMiddleware)(Fe)));Fe.run(me),s.a.render(Object(o.jsx)(a.a,{store:Re,children:Object(o.jsx)(N,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.407f150a.chunk.js.map